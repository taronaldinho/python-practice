---
tags:
  - Python
  - Reference
aliases: 
cssclasses: 
publish: false
---
# Python iterator

---

## この資料の目的

`for` 文によって繰り返すことができるオブジェクトのことを総称して、**イテラブル** (iterable) と呼ぶ。
`for` 文が、様々なデータ型をイテラブルとして統一的に扱えるのは、繰り返して取り出す操作を表現する**イテレータ** (iterator) を経由するからです。
iterateは繰り返すという意味なので、itaratorは繰り返すもの（反復子とも呼ばれる）、iterableは繰り返すことができるもの、という意味です。

## iterator

データのストリームを表すオブジェクト。イテレータの __next__() メソッドを繰り返し呼び出す (または組み込み関数 next() に渡す) と、ストリームの連続した項目が返されます。これ以上データがない場合は、StopIteration例外が発生します。この時点でイテレータ・オブジェクトは使い果たされ、それ以降 __next__() メソッドを呼び出しても StopIteration が発生するだけです。イテレータは、イテレータ・オブジェクト自身を返す __iter__() メソッドを持つことが要求されます。したがって、すべてのイテレータはイテラブルであり、他のイテラブルが受け入れられるほとんどの場所で使用することができます。注目すべき例外は、複数のイテレーション・パスを試みるコードです。コンテナ・オブジェクト（リストなど）は、iter()関数に渡したりforループで使用したりするたびに、新しいイテレータを生成します。イテレータでこれを試みると、前の反復パスで使用されたのと同じイテレータ・オブジェクトが返され、空のコンテナのように見えます。
